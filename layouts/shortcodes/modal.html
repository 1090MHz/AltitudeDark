{{ $modalId := .Get "id" | default "genericModal" }}
{{ $buttonId := .Get "buttonId" | default "closeModal" }}


<div
  id="{{ $modalId }}"
  class="relative z-50"
  aria-labelledby="modal-title"
  role="dialog"
  aria-modal="true"
>
  <!-- Overlay -->
  <div
    class="fixed inset-0 bg-gray-500/75 transition-opacity dark:bg-gray-900/75"
    aria-hidden="true"
  ></div>

  <!-- Modal Container -->
  <div
    class="fixed inset-0 z-50 flex items-center justify-center overflow-y-auto p-4"
  >
    <div
      class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg dark:bg-gray-800"
    >
      <!-- Modal Content -->
      <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 dark:bg-gray-800">
        <div class="sm:flex sm:items-start">
          <!-- Icon -->
          <div
            class="mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-blue-100 sm:mx-0 sm:size-10 dark:bg-blue-900"
          >
            <svg
              class="size-6 text-blue-600 dark:text-blue-400"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"
              />
            </svg>
          </div>
          <!-- Text Content -->
          <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
            <h3
              class="text-base font-semibold text-gray-900 dark:text-gray-100"
              id="modal-title"
            >
              {{ .Get "title" | default "Modal Title" }}
            </h3>
            <div class="mt-2">
              <!-- Markdown Content -->
              <div
                class="text-sm text-gray-500 dark:text-gray-300 [&_h4]:mt-4 [&_li]:mb-1 [&_p]:mb-2 [&_ul]:list-disc [&_ul]:pl-5"
              >
                {{ .Inner | markdownify }}
              </div>
              <!-- <div class="prose prose-sm text-gray-500 dark:text-gray-300">
                {{ .Inner | markdownify }}
              </div>
            </div> -->
            </div>
          </div>
        </div>
      </div>
      <!-- Modal Actions -->
      <div
        class="flex justify-center bg-gray-50 px-4 py-3 sm:px-6 dark:bg-gray-700"
      >
        <button
          id="{{ $buttonId }}"
          type="button"
          class="inline-flex justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 dark:bg-blue-500 dark:hover:bg-blue-400"
        >
          {{ .Get "buttonText" | default "Close" }}
        </button>
      </div>
    </div>
  </div>

  <!-- Include the external JavaScript file -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Use intermediate variables to store Hugo-generated values
      const modalId = '{{ $modalId }}';
      const buttonId = '{{ $buttonId }}';

      // Use the variables in JavaScript
      const modal = document.getElementById(modalId);
      const closeButton = document.getElementById(buttonId);

      // Initially keep the modal visible until closed
      modal.classList.remove("invisible");

      // When the user clicks the button, hide the modal
      closeButton.addEventListener("click", () => {
        modal.classList.add("invisible"); // Hide the modal
      });
    });
  </script>
</div>
